#include "stm32f3xx.h"

#define GPIOAEN					(1U<<17)
#define GPIOEEN					(1U<<21)

#define USART2EN				(1U<<17)

//#define AF7_USART				(0111 0000 0000)


/*NOTE: LEFT TO USE AFTER GETTING THE USB TO SERIAL CONVERTER. */
/* Our USART2 is connected to APB1 bus, hence enable it */
/* USART2 is within bit 17 of APB1_ENR Register */
/* PA2 and PA3 are Tx/Rx port pins under column AF7 (Alternate Function 7) */
/* So enable PA2 and PA3 and configure to be Alternate Function mode*/
int main(void) {




}

void uart2_tx_init() {
	/**Configure uart gpio pin**/
	//Enable clk access to GPIOA connected to AHB2 Bus (General AHB within Code)
	RCC->AHBENR |= GPIOAEN;

	//Set PA2 MODE to alt func mode
	GPIOA->MODER &= ~(1U<<4);
	GPIOA->MODER |= (1U<<5);
	//Set PA2 alt func type to UART_TX (AF7)
	//access the alternate function low register bits 8-11 for AFRL2[3:0]
	//and set that part of the register to AF7 (0111)
//	GPIOA->AFR[0] |= AF7_USART;
	GPIOA->AFR[0] |= (1U<<8);
	GPIOA->AFR[0] |= (1U<<9);
	GPIOA->AFR[0] |= (1U<<10);
	GPIOA->AFR[0] &= ~(1U<<11);


	/**Configure USART Module**/
	//Enable Clock access to UART2
	//Configure UART Baud Rate
	//Configure the transfer direction
	//Enable the UART Module once done
}
