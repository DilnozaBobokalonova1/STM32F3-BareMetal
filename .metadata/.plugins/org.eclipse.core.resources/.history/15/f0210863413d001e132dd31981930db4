/*
 * adc.c
 *
 *  Created on: Aug 16, 2023
 *      Author: dilnozabobokalonova
 */
#include "stm32f3xx.h"

#define GPIOAEN					(1U<<17)
//I'd like to enable ADC2_IN2 that is located at PA5
//our ADC1/2 within RCC clock enable register is at bit 28
#define ADC2EN			(1U<<28)
#define ADC_CH1			(1U<<0)

//adc configged with 3 channels
//ch2, ch3, ch5
//1st = ch5
//2nd = ch2
//3rd = ch3
void pa_5_adc_init(void) {

	/*Configure the ADC GPIO pin*/

	/*Enable clock access to GPIOA*/
	RCC->AHBENR |= GPIOAEN;
	/*Set the mode of PA5 to analog mode*/
	/* PA5 is located at MODE5 which are bits 10 & 11 */
	/* To set to analog mode, both bits have to be set to 1 */
//	GPIOA->MODER |= (1U<<10);
//	GPIOA->MODER |= (1U<<11);
	//one-liner
	GPIOA->MODER |= ((1U << 10) | (1U << 11));

	/*Configure the ADC module*/
	/*Enable clock access to ADC */
	//our ADCs are connected to AHB3 bus
	RCC->AHBENR |= ADC2EN;

	/*Conversion sequence length*/
	//setting it first cus it's located within SQ1 which I'm later using to set my channel
	ADC2->S
	/*Conversion sequence start*/
//	ADC2->SQR1 =
	/*Enable ADC module*/
	//in my case, the channel I'm using is channel 2



}
